'use strict';

var cheerio = require('cheerio');


function getDomesticGrossElement($) {
//return $('tr:nth-child(1) > td > font:nth-child(1) > b').text();
return $('.money').text().toString().substring(1).split('$')[0];
}

function getBudget($) {
  //return $('tr:nth-child(1) > td > font:nth-child(1) > b').text();
  return $('.money').text().toString().substring(1).split('$')[3];
  }
  function getDomesticOpening($) {
    //return $('tr:nth-child(1) > td > font:nth-child(1) > b').text();
    return $('.money').text().toString().substring(1).split('$')[2];
    }

function getGrossAsText($) {
  var gross = getDomesticGrossElement($);

  if (gross.length === 0) {
    gross = '0';
  }

  return gross;
}

module.exports = function (html) {
  if (typeof html !== 'string') {
    throw new Error('Parameter must be a string of HTML');
  }
  return (getDomesticGrossElement(cheerio.load(html)) + "$");
  // return "domestic total:" + (getDomesticGrossElement(cheerio.load(html))) + "\n"+"domestic opening:" +(getDomesticOpening(cheerio.load(html))) +"\n"+ "budget" +(getBudget(cheerio.load(html)));
};
